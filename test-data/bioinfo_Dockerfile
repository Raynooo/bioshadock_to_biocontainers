FROM centos

MAINTAINER Olivier Sallou <olivier.sallou@irisa.fr>

WORKDIR /opt

RUN yum install -y unzip wget perl git java-1.8.0-openjdk perl-Data-Dumper gcc gcc-c++ make zlib-devel bzip2 bzip2-devel ncurses-devel

RUN wget -O bowtie.zip "http://downloads.sourceforge.net/project/bowtie-bio/bowtie/1.1.2/bowtie-1.1.2-src.zip?r=http%3A%2F%2Fsourceforge.net%2Fprojects%2Fbowtie-bio%2Ffiles%2Fbowtie%2F1.1.2%2F&ts=1448896721&use_mirror=netassist"
RUN unzip bowtie.zip
RUN cd bowtie-1.1.2 && make && make install

RUN git clone https://github.com/trinityrnaseq/trinityrnaseq.git
RUN cd trinityrnaseq && make && make plugins

ENTRYPOINT /opt/trinityrnaseq/Trinity
